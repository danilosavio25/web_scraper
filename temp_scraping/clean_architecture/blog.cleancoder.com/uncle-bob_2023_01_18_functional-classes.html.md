Clean Coder Blog


[![](/assets/clean_code_72_color.png)](/)

# The Clean Code Blog

by Robert C. Martin (Uncle Bob)



[atom/rss feed](/atom.xml)


---

* [Functional Classes in Clojure](/uncle-bob/2023/01/19/functional-classes-clojure.html)

  01-19-2023
* [Functional Classes](/uncle-bob/2023/01/18/functional-classes.html)

  01-18-2023
* [Space War](/uncle-bob/2021/11/28/Spacewar.html)

  11-28-2021
* [Functional Duplications](/uncle-bob/2021/10/28/functional-duplication.html)

  10-28-2021
* [Roots](/uncle-bob/2021/09/25/roots.html)

  09-25-2021
* [More On Types](/uncle-bob/2021/06/29/MoreOnTypes.html)

  06-29-2021
* [On Types](/uncle-bob/2021/06/25/OnTypes.html)

  06-25-2021
* [if-else-switch](/uncle-bob/2021/03/06/ifElseSwitch.html)

  03-06-2021
* [Pairing Guidelines](/uncle-bob/2021/01/17/Pairing.html)

  01-17-2021
* [Solid Relevance](/uncle-bob/2020/10/18/Solid-Relevance.html)

  10-18-2020
* [Loopy](/uncle-bob/2020/09/30/loopy.html)

  09-30-2020
* [Conference Conduct](/uncle-bob/2020/09/23/ConferenceConduct.html)

  09-23-2020
* [The Disinvitation](/uncle-bob/2020/09/12/TheDisinvitation.html)

  09-12-2020
* [REPL Driven Design](/uncle-bob/2020/05/27/ReplDrivenDesign.html)

  05-27-2020
* [A Little More Clojure](/uncle-bob/2020/04/09/ALittleMoreClojure.html)

  04-09-2020
* [A Little Clojure](/uncle-bob/2020/04/06/ALittleClojure.html)

  04-06-2020
* [A New Hope](/uncle-bob/2020/04/05/ANewHope.html)

  04-05-2020
* [Open Letter to the Linux Foundation](/uncle-bob/2019/11/08/OpenLetterLinuxFoundation.html)

  11-08-2019
* [What They Thought of Programmers.](/uncle-bob/2019/11/03/WhatTheyThoughtOfUs.html)

  11-03-2019
* [Circulatory](/uncle-bob/2019/10/31/Circulatory.html)

  10-31-2019
* [Why Clojure?](/uncle-bob/2019/08/22/WhyClojure.html)

  08-22-2019
* [Why won't it...](/uncle-bob/2019/07/22/WhyWontIt.html)

  07-22-2019
* [Classes vs. Data Structures](/uncle-bob/2019/06/16/ObjectsAndDataStructures.html)

  06-16-2019
* [Types and Tests](/uncle-bob/2019/06/08/TestsAndTypes.html)

  06-08-2019
* [737 Max 8](/uncle-bob/2019/05/18/737-Max-8.html)

  05-18-2019
* [FP vs. OO List Processing](/uncle-bob/2018/12/17/FPvsOO-List-processing.html)

  12-17-2018
* [We, The Unoffended](/uncle-bob/2018/12/16/unoffended.html)

  12-16-2018
* [SJWJS](/uncle-bob/2018/12/14/SJWJS.html)

  12-14-2018
* [The Tragedy of Craftsmanship.](/uncle-bob/2018/08/28/CraftsmanshipMovement.html)

  08-28-2018
* [Too Clean?](/uncle-bob/2018/08/13/TooClean.html)

  08-13-2018
* [Integers and Estimates](/uncle-bob/2018/06/21/IntegersAndEstimates.html)

  06-21-2018
* [Pickled State](/uncle-bob/2018/06/06/PickledState.html)

  06-06-2018
* [Craftsman, Craftswoman, Craftsperson](/uncle-bob/2018/05/02/Craftsman-Craftswoman-Craftsperson.html)

  05-02-2018
* [FP vs. OO](/uncle-bob/2018/04/13/FPvsOO.html)

  04-13-2018
* [In The Large](/uncle-bob/2018/04/02/InTheLarge.html)

  04-02-2018
* [*We Programmers*](/uncle-bob/2018/03/29/WeProgrammers.html)

  03-29-2018
* [Uncle Bob Fly-In.  
  Have I got a deal for you!](/uncle-bob/2018/02/25/UncleBobFlyIn.html)

  02-25-2018
* [The Citizenship Argument](/uncle-bob/2018/01/18/TheCitizenshipArgument.html)

  01-18-2018
* [Operating Behind the Power Curve](/uncle-bob/2018/01/15/behindThePowerCurve.html)

  01-15-2018
* [Excuses](/uncle-bob/2017/12/18/Excuses.html)

  12-18-2017
* [Dbtails](/uncle-bob/2017/12/09/Dbtails.html)

  12-09-2017
* [Bobby Tables](/uncle-bob/2017/12/03/BobbyTables.html)

  12-03-2017
* [Living on the Plateau](/uncle-bob/2017/11/18/OnThePlateau.html)

  11-18-2017
* [Women In Demand](/uncle-bob/2017/10/04/WomenInDemand.html)

  10-04-2017
* [Tools are not the Answer](/uncle-bob/2017/10/04/CodeIsNotTheAnswer.html)

  10-04-2017
* [Test Contra-variance](/uncle-bob/2017/10/03/TestContravariance.html)

  10-03-2017
* [The Unscrupulous Meme](/uncle-bob/2017/09/29/TheUnscrupulousMeme.html)

  09-29-2017
* [Sierra Juliet Foxtrot](/uncle-bob/2017/09/26/SierraJulietFoxtrot.html)

  09-26-2017
* [Just Following Orders](/uncle-bob/2017/08/28/JustFollowingOders.html)

  08-28-2017
* [Women in Tech](/uncle-bob/2017/08/14/WomenInTech.html)

  08-14-2017
* [On the Diminished Capacity to Discuss Things Rationally](/uncle-bob/2017/08/10/OnTheInabilityToDiscussThingsRationally.html)

  08-10-2017
* [Thought Police](/uncle-bob/2017/08/09/ThoughtPolice.html)

  08-09-2017
* [The Brain Problem](/uncle-bob/2017/07/28/TheBrainProblem.html)

  07-28-2017
* [Drive me to Toronto, Hal.](/uncle-bob/2017/07/24/DriveMeToTorontoHal.html)

  07-24-2017
* [Pragmatic Functional Programming](/uncle-bob/2017/07/11/PragmaticFunctionalProgramming.html)

  07-11-2017
* [First-Class Tests.](/uncle-bob/2017/05/05/TestDefinitions.html)

  05-05-2017
* [Is Dr. Calvin in the Room?](/uncle-bob/2017/03/16/DrCalvin.html)

  03-16-2017
* [Symmetry Breaking](/uncle-bob/2017/03/07/SymmetryBreaking.html)

  03-07-2017
* [Testing Like the TSA](/uncle-bob/2017/03/06/TestingLikeTheTSA.html)

  03-06-2017
* [TDD Harms Architecture](/uncle-bob/2017/03/03/TDD-Harms-Architecture.html)

  03-03-2017
* [Necessary Comments](/uncle-bob/2017/02/23/NecessaryComments.html)

  02-23-2017
* [Types and Tests](/uncle-bob/2017/01/13/TypesAndTests.html)

  01-13-2017
* [The Dark Path](/uncle-bob/2017/01/11/TheDarkPath.html)

  01-11-2017
* [TDD Lesson - Terrain Generation](/uncle-bob/2017/01/09/DiamondSquare.html)

  01-09-2017
* [TDD Doesn't Work](/uncle-bob/2016/11/10/TDD-Doesnt-work.html)

  11-10-2016
* [Dijkstra's Algorithm](/uncle-bob/2016/10/26/DijkstrasAlg.html)

  10-26-2016
* [The Lurn](/uncle-bob/2016/09/01/TheLurn.html)

  09-01-2016
* [The Churn](/uncle-bob/2016/07/27/TheChurn.html)

  07-27-2016
* [Mutation Testing](/uncle-bob/2016/06/10/MutationTesting.html)

  06-10-2016
* [Blue. No! Yellow!](/uncle-bob/2016/05/21/BlueNoYellow.html)

  05-21-2016
* [Type Wars](/uncle-bob/2016/05/01/TypeWars.html)

  05-01-2016
* [Giving Up on TDD](/uncle-bob/2016/03/19/GivingUpOnTDD.html)

  03-19-2016
* [Manhandled](/uncle-bob/2016/01/15/Manhandled.html)

  01-15-2016
* [Stabilization Phases](/uncle-bob/2016/01/14/Stabilization.html)

  01-14-2016
* [A Little Architecture](/uncle-bob/2016/01/04/ALittleArchitecture.html)

  01-04-2016
* [Prelude to a Profession](/uncle-bob/2015/11/27/OathDiscussion.html)

  11-27-2015
* [The Programmer's Oath](/uncle-bob/2015/11/18/TheProgrammersOath.html)

  11-18-2015
* [The Force of Pliers](/uncle-bob/2015/11/01/PlierForce.html)

  11-01-2015
* [Future Proof](/uncle-bob/2015/10/30/FutureProof.html)

  10-30-2015
* [Agile is not now, nor was it ever, Waterfall.](/uncle-bob/2015/10/16/Agile-And-Waterfall.html)

  10-16-2015
* [VW](/uncle-bob/2015/10/14/VW.html)

  10-14-2015
* [WATS Line 54](/uncle-bob/2015/10/05/WattsLine54.html)

  10-05-2015
* [A Little Structure](/uncle-bob/2015/09/23/ALittleStructure.html)

  09-23-2015
* [Make the Magic go away.](/uncle-bob/2015/08/06/LetTheMagicDie.html)

  08-06-2015
* [Pattern Pushers](/uncle-bob/2015/07/05/PatternPushers.html)

  07-05-2015
* [The Little Singleton](/uncle-bob/2015/07/01/TheLittleSingleton.html)

  07-01-2015
* [The First Micro-service Architecture](/uncle-bob/2015/05/28/TheFirstMicroserviceArchitecture.html)

  05-28-2015
* [Language Layers](/uncle-bob/2015/04/27/LanguageLayers.html)

  04-27-2015
* [Does Organization Matter?](/uncle-bob/2015/04/15/DoesOrganizationMatter.html)

  04-15-2015
* [The MODE-B Imperative](/uncle-bob/2015/02/21/ModeBImperative.html)

  02-21-2015
* [They Called them Computers.](/uncle-bob/2015/02/19/ComputerHarem.html)

  02-19-2015
* ['Interface' Considered Harmful](/uncle-bob/2015/01/08/InterfaceConsideredHarmful.html)

  01-08-2015
* [The Cycles of TDD](/uncle-bob/2014/12/17/TheCyclesOfTDD.html)

  12-17-2014
* [OO vs FP](/uncle-bob/2014/11/24/FPvsOO.html)

  11-24-2014
* [Thorns around the Gold](/uncle-bob/2014/11/19/GoingForTheGold.html)

  11-19-2014
* [The Obligation of the Programmer.](/uncle-bob/2014/11/15/WeRuleTheWorld.html)

  11-15-2014
* [One Hacker Way!](/uncle-bob/2014/11/12/PutItInProduction.html)

  11-12-2014
* [Laughter in the male dominated room.](/uncle-bob/2014/10/26/LaughterInTheMaleDominatedRoom.html)

  10-26-2014
* [GOML-1, Responsive Design](/uncle-bob/2014/10/08/GOML1-ResponsiveDesign.html)

  10-08-2014
* [Clean Micro-service Architecture](/uncle-bob/2014/10/01/CleanMicroserviceArchitecture.html)

  10-01-2014
* [Microservices and Jars](/uncle-bob/2014/09/19/MicroServicesAndJars.html)

  09-19-2014
* [The More Things Change...](/uncle-bob/2014/09/18/TheMoreThingsChange.html)

  09-18-2014
* [Test Time](/uncle-bob/2014/09/03/TestTime.html)

  09-03-2014
* [A Little About Patterns.](/uncle-bob/2014/06/30/ALittleAboutPatterns.html)

  06-30-2014
* [My Lawn](/uncle-bob/2014/06/20/MyLawn.html)

  06-20-2014
* [Is TDD Dead?](/uncle-bob/2014/06/17/IsTddDeadFinalThoughts.html)

  06-17-2014
* [First](/uncle-bob/2014/05/19/First.html)

  05-19-2014
* [The Little Mocker](/uncle-bob/2014/05/14/TheLittleMocker.html)

  05-14-2014
* [The Open Closed Principle](/uncle-bob/2014/05/12/TheOpenClosedPrinciple.html)

  05-12-2014
* [Framework Bound[2]](/uncle-bob/2014/05/11/FrameworkBound.html)

  05-11-2014
* [When to Mock](/uncle-bob/2014/05/10/WhenToMock.html)

  05-10-2014
* [The Single Responsibility Principle](/uncle-bob/2014/05/08/SingleReponsibilityPrinciple.html)

  05-08-2014
* [Professionalism and TDD (Reprise)](/uncle-bob/2014/05/02/ProfessionalismAndTDD.html)

  05-02-2014
* [Test Induced Design Damage?](/uncle-bob/2014/05/01/Design-Damage.html)

  05-01-2014
* [When TDD doesn't work.](/uncle-bob/2014/04/30/When-tdd-does-not-work.html)

  04-30-2014
* [Monogamous TDD](/uncle-bob/2014/04/25/MonogamousTDD.html)

  04-25-2014
* [Code Hoarders](/uncle-bob/2014/04/03/Code-Hoarders.html)

  04-03-2014
* [The *True* Corruption of Agile](/uncle-bob/2014/03/28/The-Corruption-of-Agile.html)

  03-28-2014
* [When Should You Think?](/uncle-bob/2014/03/11/when-to-think.html)

  03-11-2014
* [A Spectrum of Trust](/uncle-bob/2014/02/27/TheTrustSpectrum.html)

  02-27-2014
* [Oh Foreman, Where art Thou?](/uncle-bob/2014/02/23/OhForemanWhereArtThou.html)

  02-23-2014
* [Where is the Foreman?](/uncle-bob/2014/02/21/WhereIsTheForeman.html)

  02-21-2014
* [The Domain Discontinuity](/uncle-bob/2014/01/27/TheChickenOrTheRoad.html)

  01-27-2014
* [Coding in the Clink (9)](/uncle-bob/2014/01/20/Marion_Correctional.html)

  01-20-2014
* [Extreme Programming, a Reflection](/uncle-bob/2013/12/10/Thankyou-Kent.html)

  12-10-2013
* [Novices. A Coda](/uncle-bob/2013/11/25/Novices-Coda.html)

  11-25-2013
* [Hordes Of Novices](/uncle-bob/2013/11/19/HoardsOfNovices.html)

  11-19-2013
* [Healthcare.gov](/uncle-bob/2013/11/12/Healthcare-gov.html)

  11-12-2013
* [The Careless Ones](/uncle-bob/2013/10/24/The-Careless-Ones.html)

  10-24-2013
* [Dance you Imps!](/uncle-bob/2013/10/01/Dance-You-Imps.html)

  10-01-2013
* [A.T. FAIL!](/uncle-bob/2013/09/26/AT-FAIL.html)

  09-26-2013
* [Test First](/uncle-bob/2013/09/23/Test-first.html)

  09-23-2013
* [Transformation Priority and Sorting](/uncle-bob/2013/05/27/TransformationPriorityAndSorting.html)

  05-27-2013
* [The Transformation Priority Premise](/uncle-bob/2013/05/27/TheTransformationPriorityPremise.html)

  05-27-2013
* [Flash - TPP](/uncle-bob/2013/05/27/FlashTpp.html)

  05-27-2013
* [Fib. The T-P Premise.](/uncle-bob/2013/05/27/FibTPP.html)

  05-27-2013
* [There are Ladies Present](/uncle-bob/2013/03/22/There-are-ladies-present.html)

  03-22-2013
* [The Frenzied Panic of Rushing](/uncle-bob/2013/03/11/TheFrenziedPanicOfRushing.html)

  03-11-2013
* [An Open and Closed Case](/uncle-bob/2013/03/08/AnOpenAndClosedCase.html)

  03-08-2013
* [The Pragmatics of TDD](/uncle-bob/2013/03/06/ThePragmaticsOfTDD.html)

  03-06-2013
* [The Start-Up Trap](/uncle-bob/2013/03/05/TheStartUpTrap.html)

  03-05-2013
* [The Principles of Craftsmanship](/uncle-bob/2013/02/10/ThePrinciplesOfCraftsmanship.html)

  02-10-2013
* [The Humble Craftsman](/uncle-bob/2013/02/01/The-Humble-Craftsman.html)

  02-01-2013
* [The Laborer and the Craftsman](/uncle-bob/2013/01/30/The-Craftsman-And-The-Laborer.html)

  01-30-2013
* [FP Basics E4](/uncle-bob/2013/01/29/FPBE4-Lazy-Evaluation.html)

  01-29-2013
* [FP Basics E3](/uncle-bob/2013/01/07/FPBE3-Do-the-rules-change.html)

  01-07-2013
* [FP Basics E2](/uncle-bob/2013/01/02/FPBE2-Whys-it-called-functional.html)

  01-02-2013
* [Brave New Year](/uncle-bob/2012/12/29/Brave-New-Year.html)

  12-29-2012
* [FP Basics E1](/uncle-bob/2012/12/22/FPBE1-Whats-it-all-about.html)

  12-22-2012
* [Three Paradigms](/uncle-bob/2012/12/19/Three-Paradigms.html)

  12-19-2012
* [The New CTO](/uncle-bob/2012/09/06/I-am-Your-New-CTO.html)

  09-06-2012
* [Functional Programming for the Object Oriented Programmer](/uncle-bob/2012/08/24/functional-programming-for-the-object-oriented-programmer.html)

  08-24-2012
* [The Clean Architecture](/uncle-bob/2012/08/13/the-clean-architecture.html)

  08-13-2012
* [NO DB](/uncle-bob/2012/05/15/NODB.html)

  05-15-2012
* [Why is Estimating so Hard?](/uncle-bob/2012/04/20/Why-Is-Estimating-So-Hard.html)

  04-20-2012
* [After the Disaster](/uncle-bob/2012/04/18/After-The-Disaster.html)

  04-18-2012
* [Service Oriented Agony](/uncle-bob/2012/02/01/Service-Oriented-Agony.html)

  02-01-2012
* [The Ruby Colored Box](/uncle-bob/2012/01/31/The-Ruby-Colored-Box.html)

  01-31-2012
* [Fecophiles](/uncle-bob/2012/01/20/Fecophiles.html)

  01-20-2012
* [The Letter](/uncle-bob/2012/01/12/The-Letter.html)

  01-12-2012
* [Flipping the Bit](/uncle-bob/2012/01/11/Flipping-the-Bit.html)

  01-11-2012
* [The Barbarians are at the Gates](/uncle-bob/2011/12/11/The-Barbarians-are-at-the-Gates.html)

  12-11-2011
* [Clean Architecture](/uncle-bob/2011/11/22/Clean-Architecture.html)

  11-22-2011
* [Double Entry Bookkeeping Dilemma. Should I Invest or Not?](/uncle-bob/2011/11/06/Double-Entry-Bookkeeping-Dilemma-Should-I-Invest-or-Not.html)

  11-06-2011
* [Simple Hickey](/uncle-bob/2011/10/20/Simple-Hickey.html)

  10-20-2011
* [Screaming Architecture](/uncle-bob/2011/09/30/Screaming-Architecture.html)

  09-30-2011
* [Bringing Balance to the Force](/uncle-bob/2011/01/19/individuals-and-interactions.html)

  01-19-2011
* [What Software Craftsmanship is about](/uncle-bob/2011/01/17/software-craftsmanship-is-about.html)

  01-17-2011

# Functional Classes

18 January 2023

I recently tweeted the following:

> Should you subdivide a functional program into classes the way you would an object oriented program?  
>   
> Yes. You should. Because the rules don’t change just because you’ve chosen to use immutable data structures.
>
> — Uncle Bob Martin (@unclebobmartin) [January 17, 2023](https://twitter.com/unclebobmartin/status/1615436628385824769?ref_src=twsrc%5Etfw)

This led to a bevy of interesting responses about the difference between classes and modules. In answer to those responses I tweeted this:

> A class is a group of cohesive and narrowly defined functions that operate on an encapsulated data structure. The functions may, or may not, be polymorphically deployed.
>
> — Uncle Bob Martin (@unclebobmartin) [January 17, 2023](https://twitter.com/unclebobmartin/status/1615438162746134528?ref_src=twsrc%5Etfw)

Of course that only led to an increased number of interesting responses. And so I thought that it might be wise to blog about my reasoning rather than to continue trying to cram that reasoning into tweets.

If you are in doubt about what FP is, and about what OO is, and about whether the two are compatible, then I recommend [this](http://blog.cleancoder.com/uncle-bob/2018/04/13/FPvsOO.html) old blog of mine.

What is a class? According to the dictionary a class is:

> *A set, collection, group, or configuration containing members regarded as having certain attributes or traits in common; a kind or category.*

Now consider that definition when reading the next paragraph.

In OO languages we organize our programs into classes of objects that share similar traits. We describe those objects in terms of the attributes and behaviors that they have in common. We strive to create hierarchies of classification that those objects can fit within. We consider the higher level classifications to be abstractions that allow the expression of general truths that are independent of irrelevant details. (Indeed, I once defined abstraction as: *The Amplification of the essential, and the elimination of the irrelevant.*[[1]](https://www.amazon.com/Designing-Object-Oriented-Applications-Method/dp/0132038374))

In 1966 the power of abstraction by classification led the authors of Simula to create the keyword `class`. In 1980, Bjarne Stroustrup continued that convention and used the `class` keyword in C++. This was actually somewhat strange because C already had the keyword `struct` which had a virtually identical meaning. But the power of the word `class` held sway.

In the mid 90s the power of that word led the authors of Java (and then C#) to declare *and enforce* that *everything* in a program must be part of a class. This was a dramatic overreach. It seems to me that some of the things that Java forces into classes ought not to be in classes at all. For example, the class `java.lang.Math` is really just a namespace for a batch of functions and is not, in any sense, a classification of objects.

This conflation of object classification and namespaces is confusing and unnecessary; and is probably part of the reason my initial tweet generated the responses that it did.

Another overreach in Java (and by extension C#) is that methods are polymorphic by default. Polymorphism is a tool, not a rule. Many, if not most, function calls do not require dynamic dispatch.

These kinds of overreach lead to confusion about what a class really is. I believe that most of the responses to my tweet were the result of that confusion.

So let’s cut to the chase.

One of the oldest rules of software design is that we should partition the elements of the system into loosely coupled and internally cohesive elements. Those elements become well named places where we can put data and behavior. This follows the old proverb: *A place for everything, and everything in its place.*

What are those elements? It seems obvious that the classification structures of objects ought to be high on the list. Namespaced function libraries like `java.lang.Math` are another obvious choice. In the one case we have a batch of functions that manipulate an internal data structure. In the other case we have a batch of functions that manipulate an external data structure.

The essential charachteristic of these elements, these batches of functions, is that they are internally cohesive. That means that all the functions in the batch are strongly related to each other because they manipulate the same data structures, whether internal or external. It is that cohesion that drives the partitioning of a software design.

###Example

Recently I have been writing an application called [`more-speech`](http://github.com/unclebob/more-speech) which is a client that browses messages on the [`nostr`](https://nostr.com) network. This nework is composed of relays that use a simple websocket protocol to transmit messages to clients. The `more-speech` client is written in Clojure, which is a Functional Programming language.

Early on I created a module named `protocol` to house the code that implemented the `nostr` protocol. I began this module by managing the websockets over which the messages travelled, and then decoding those messages and manipulating them according to the rules of the protocol.

Clojure is not a traditional OOPL, there is no `class` keyword that is used to declare and define objects and the methods that manipulate them. Rather, a module in Clojure is just a batch of functions that are not syntactically bound to any particular data. Thus my `protocol` module had functions that dealt with `WebSocket`s and functions that dealth with messages and functions that dealth with protocol elements. They were cohesive in the sense that they were all related to the `nostr` protocol; but there was no central data structure that unified them.

The other day I realized that I was missing an abstraction. The `nostr` protocol may be transmitted over websockets but the protocol rules have nothing to do with websockets. Those rules deal with the data that comes through the websockets, but not the websockets themselves. Yet my `protocol` module was littered with websocket code.

So I separated the websocket code from the `protocol` code by creating an abstraction that I called `relay`. A `relay` is a data structure that contains the `url` of a websocket, the websocket itself, and a function to call when messages are received. The `relay` data structure is manipulated by functions such as `make`, `open`, `close`, and `send`.

This `relay` module very clearly defines a class of objects. The `protocol` constructs a `relay` object for each of the urls in a list of active relays. It `open`s those `relay`s and `send`s messages to them. Messages that are received are sent to `protocol` through the callback functions that are passed into the function that constructs the `relay` object. In order to maintain the immutability and referential transparency constraints of Functional Programming, the functions that update the state of a `relay` return a new instance of that `relay`.

###Lesson

Java, C#, Ruby, and C++ all either enforce, or stronly encourage, the partitioning of systems into classes. Clojure does not; it is entirely agnostic about classes. The lesson that I learned from `protocol` and `relay` is that I had not been paying enough attention to class structure when writing complex Clojure programs. Instead, I had been allowing functions to accumulate in modules in a, more or less, ad hoc fashion – similar to the way one might program in C, Fortran, Basic, or even Assembler. But that was lazy. Objects exist in programs, and they can, and should, be classified. So, from now on, I will be paying much more attention to the classification structure of the objects my systems.

> *A place for everything, and everything in its place.*